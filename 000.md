ST558 Project 1
================
Mu-Tien, Lee
2020,09.04

-   [Require Package](#require-package)
-   [Data cleaning](#data-cleaning)
    -   [Building functions to reach statsAPI](#building-functions-to-reach-statsapi)
    -   [Building functions to reach recordAPI](#building-functions-to-reach-recordapi)
    -   [accessory for API endpoints](#accessory-for-api-endpoints)

Require Package
---------------

``` r
library(dplyr)
library(tidyverse)
library(RSQLite)
library(bigrquery)
library(httr)
library(jsonlite)
```

Data cleaning
-------------

### Building functions to reach statsAPI

``` r
statsAPI <- function(x,...){
#setting up base url for stats API
base_url <-"https://statsapi.web.nhl.com/api/v1/teams"
modifiers <- x

#construct the full path
full_url <- paste0(base_url, "/", modifiers)

# retrieve information in raw form
GET(full_url)

#transfer into JSON text form
text <- content(GET(full_url),"text")

#convert it to a list
mydata <- fromJSON(text, flatten = TRUE) 
mydata<- as.data.frame(mydata)
return(mydata)
}
statsAPI("?expand=person.names")
```

    ##                                                                                                                                                                             copyright
    ## 1  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 2  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 3  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 4  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 5  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 6  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 7  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 8  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 9  NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 10 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 11 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 12 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 13 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 14 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 15 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 16 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 17 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 18 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 19 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 20 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 21 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 22 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 23 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 24 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 25 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 26 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 27 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 28 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 29 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 30 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ## 31 NHL and the NHL Shield are registered trademarks of the National Hockey League. NHL and NHL team marks are the property of the NHL and its teams. c NHL 2020. All Rights Reserved.
    ##    teams.id            teams.name       teams.link teams.abbreviation
    ## 1         1     New Jersey Devils  /api/v1/teams/1                NJD
    ## 2         2    New York Islanders  /api/v1/teams/2                NYI
    ## 3         3      New York Rangers  /api/v1/teams/3                NYR
    ## 4         4   Philadelphia Flyers  /api/v1/teams/4                PHI
    ## 5         5   Pittsburgh Penguins  /api/v1/teams/5                PIT
    ## 6         6         Boston Bruins  /api/v1/teams/6                BOS
    ## 7         7        Buffalo Sabres  /api/v1/teams/7                BUF
    ## 8         8    Montreal Canadiens  /api/v1/teams/8                MTL
    ## 9         9       Ottawa Senators  /api/v1/teams/9                OTT
    ## 10       10   Toronto Maple Leafs /api/v1/teams/10                TOR
    ## 11       12   Carolina Hurricanes /api/v1/teams/12                CAR
    ## 12       13      Florida Panthers /api/v1/teams/13                FLA
    ## 13       14   Tampa Bay Lightning /api/v1/teams/14                TBL
    ## 14       15   Washington Capitals /api/v1/teams/15                WSH
    ## 15       16    Chicago Blackhawks /api/v1/teams/16                CHI
    ## 16       17     Detroit Red Wings /api/v1/teams/17                DET
    ## 17       18   Nashville Predators /api/v1/teams/18                NSH
    ## 18       19       St. Louis Blues /api/v1/teams/19                STL
    ## 19       20        Calgary Flames /api/v1/teams/20                CGY
    ## 20       21    Colorado Avalanche /api/v1/teams/21                COL
    ## 21       22       Edmonton Oilers /api/v1/teams/22                EDM
    ## 22       23     Vancouver Canucks /api/v1/teams/23                VAN
    ## 23       24         Anaheim Ducks /api/v1/teams/24                ANA
    ## 24       25          Dallas Stars /api/v1/teams/25                DAL
    ## 25       26     Los Angeles Kings /api/v1/teams/26                LAK
    ## 26       28       San Jose Sharks /api/v1/teams/28                SJS
    ## 27       29 Columbus Blue Jackets /api/v1/teams/29                CBJ
    ## 28       30        Minnesota Wild /api/v1/teams/30                MIN
    ## 29       52         Winnipeg Jets /api/v1/teams/52                WPG
    ## 30       53       Arizona Coyotes /api/v1/teams/53                ARI
    ## 31       54  Vegas Golden Knights /api/v1/teams/54                VGK
    ##    teams.teamName teams.locationName teams.firstYearOfPlay teams.shortName
    ## 1          Devils         New Jersey                  1982      New Jersey
    ## 2       Islanders           New York                  1972    NY Islanders
    ## 3         Rangers           New York                  1926      NY Rangers
    ## 4          Flyers       Philadelphia                  1967    Philadelphia
    ## 5        Penguins         Pittsburgh                  1967      Pittsburgh
    ## 6          Bruins             Boston                  1924          Boston
    ## 7          Sabres            Buffalo                  1970         Buffalo
    ## 8       Canadiens           Montreal                  1909        Montreal
    ## 9        Senators             Ottawa                  1990          Ottawa
    ## 10    Maple Leafs            Toronto                  1917         Toronto
    ## 11     Hurricanes           Carolina                  1979        Carolina
    ## 12       Panthers            Florida                  1993         Florida
    ## 13      Lightning          Tampa Bay                  1991       Tampa Bay
    ## 14       Capitals         Washington                  1974      Washington
    ## 15     Blackhawks            Chicago                  1926         Chicago
    ## 16      Red Wings            Detroit                  1926         Detroit
    ## 17      Predators          Nashville                  1997       Nashville
    ## 18          Blues          St. Louis                  1967        St Louis
    ## 19         Flames            Calgary                  1980         Calgary
    ## 20      Avalanche           Colorado                  1979        Colorado
    ## 21         Oilers           Edmonton                  1979        Edmonton
    ## 22        Canucks          Vancouver                  1970       Vancouver
    ## 23          Ducks            Anaheim                  1993         Anaheim
    ## 24          Stars             Dallas                  1967          Dallas
    ## 25          Kings        Los Angeles                  1967     Los Angeles
    ## 26         Sharks           San Jose                  1990        San Jose
    ## 27   Blue Jackets           Columbus                  1997        Columbus
    ## 28           Wild          Minnesota                  1997       Minnesota
    ## 29           Jets           Winnipeg                  2011        Winnipeg
    ## 30        Coyotes            Arizona                  1979         Arizona
    ## 31 Golden Knights              Vegas                  2016           Vegas
    ##                 teams.officialSiteUrl teams.franchiseId teams.active
    ## 1     http://www.newjerseydevils.com/                23         TRUE
    ## 2    http://www.newyorkislanders.com/                22         TRUE
    ## 3      http://www.newyorkrangers.com/                10         TRUE
    ## 4  http://www.philadelphiaflyers.com/                16         TRUE
    ## 5      http://pittsburghpenguins.com/                17         TRUE
    ## 6        http://www.bostonbruins.com/                 6         TRUE
    ## 7              http://www.sabres.com/                19         TRUE
    ## 8           http://www.canadiens.com/                 1         TRUE
    ## 9      http://www.ottawasenators.com/                30         TRUE
    ## 10         http://www.mapleleafs.com/                 5         TRUE
    ## 11 http://www.carolinahurricanes.com/                26         TRUE
    ## 12    http://www.floridapanthers.com/                33         TRUE
    ## 13  http://www.tampabaylightning.com/                31         TRUE
    ## 14 http://www.washingtoncapitals.com/                24         TRUE
    ## 15  http://www.chicagoblackhawks.com/                11         TRUE
    ## 16    http://www.detroitredwings.com/                12         TRUE
    ## 17 http://www.nashvillepredators.com/                34         TRUE
    ## 18       http://www.stlouisblues.com/                18         TRUE
    ## 19      http://www.calgaryflames.com/                21         TRUE
    ## 20  http://www.coloradoavalanche.com/                27         TRUE
    ## 21     http://www.edmontonoilers.com/                25         TRUE
    ## 22            http://www.canucks.com/                20         TRUE
    ## 23       http://www.anaheimducks.com/                32         TRUE
    ## 24        http://www.dallasstars.com/                15         TRUE
    ## 25            http://www.lakings.com/                14         TRUE
    ## 26           http://www.sjsharks.com/                29         TRUE
    ## 27        http://www.bluejackets.com/                36         TRUE
    ## 28               http://www.wild.com/                37         TRUE
    ## 29           http://winnipegjets.com/                35         TRUE
    ## 30     http://www.arizonacoyotes.com/                28         TRUE
    ## 31 http://www.vegasgoldenknights.com/                38         TRUE
    ##            teams.venue.name    teams.venue.link teams.venue.city teams.venue.id
    ## 1         Prudential Center /api/v1/venues/null           Newark             NA
    ## 2           Barclays Center /api/v1/venues/5026         Brooklyn           5026
    ## 3     Madison Square Garden /api/v1/venues/5054         New York           5054
    ## 4        Wells Fargo Center /api/v1/venues/5096     Philadelphia           5096
    ## 5          PPG Paints Arena /api/v1/venues/5034       Pittsburgh           5034
    ## 6                 TD Garden /api/v1/venues/5085           Boston           5085
    ## 7            KeyBank Center /api/v1/venues/5039          Buffalo           5039
    ## 8               Bell Centre /api/v1/venues/5028         Montreal           5028
    ## 9      Canadian Tire Centre /api/v1/venues/5031           Ottawa           5031
    ## 10         Scotiabank Arena /api/v1/venues/null          Toronto             NA
    ## 11                PNC Arena /api/v1/venues/5066          Raleigh           5066
    ## 12              BB&T Center /api/v1/venues/5027          Sunrise           5027
    ## 13             AMALIE Arena /api/v1/venues/null            Tampa             NA
    ## 14        Capital One Arena /api/v1/venues/5094       Washington           5094
    ## 15            United Center /api/v1/venues/5092          Chicago           5092
    ## 16     Little Caesars Arena /api/v1/venues/5145          Detroit           5145
    ## 17        Bridgestone Arena /api/v1/venues/5030        Nashville           5030
    ## 18        Enterprise Center /api/v1/venues/5076        St. Louis           5076
    ## 19    Scotiabank Saddledome /api/v1/venues/5075          Calgary           5075
    ## 20             Pepsi Center /api/v1/venues/5064           Denver           5064
    ## 21             Rogers Place /api/v1/venues/5100         Edmonton           5100
    ## 22             Rogers Arena /api/v1/venues/5073        Vancouver           5073
    ## 23             Honda Center /api/v1/venues/5046          Anaheim           5046
    ## 24 American Airlines Center /api/v1/venues/5019           Dallas           5019
    ## 25           STAPLES Center /api/v1/venues/5081      Los Angeles           5081
    ## 26   SAP Center at San Jose /api/v1/venues/null         San Jose             NA
    ## 27         Nationwide Arena /api/v1/venues/5059         Columbus           5059
    ## 28       Xcel Energy Center /api/v1/venues/5098         St. Paul           5098
    ## 29           Bell MTS Place /api/v1/venues/5058         Winnipeg           5058
    ## 30         Gila River Arena /api/v1/venues/5043         Glendale           5043
    ## 31           T-Mobile Arena /api/v1/venues/5178        Las Vegas           5178
    ##    teams.venue.timeZone.id teams.venue.timeZone.offset teams.venue.timeZone.tz
    ## 1         America/New_York                          -4                     EDT
    ## 2         America/New_York                          -4                     EDT
    ## 3         America/New_York                          -4                     EDT
    ## 4         America/New_York                          -4                     EDT
    ## 5         America/New_York                          -4                     EDT
    ## 6         America/New_York                          -4                     EDT
    ## 7         America/New_York                          -4                     EDT
    ## 8         America/Montreal                          -4                     EDT
    ## 9         America/New_York                          -4                     EDT
    ## 10         America/Toronto                          -4                     EDT
    ## 11        America/New_York                          -4                     EDT
    ## 12        America/New_York                          -4                     EDT
    ## 13        America/New_York                          -4                     EDT
    ## 14        America/New_York                          -4                     EDT
    ## 15         America/Chicago                          -5                     CDT
    ## 16         America/Detroit                          -4                     EDT
    ## 17         America/Chicago                          -5                     CDT
    ## 18         America/Chicago                          -5                     CDT
    ## 19          America/Denver                          -6                     MDT
    ## 20          America/Denver                          -6                     MDT
    ## 21        America/Edmonton                          -6                     MDT
    ## 22       America/Vancouver                          -7                     PDT
    ## 23     America/Los_Angeles                          -7                     PDT
    ## 24         America/Chicago                          -5                     CDT
    ## 25     America/Los_Angeles                          -7                     PDT
    ## 26     America/Los_Angeles                          -7                     PDT
    ## 27        America/New_York                          -4                     EDT
    ## 28         America/Chicago                          -5                     CDT
    ## 29        America/Winnipeg                          -5                     CDT
    ## 30         America/Phoenix                          -7                     MST
    ## 31     America/Los_Angeles                          -7                     PDT
    ##    teams.division.id teams.division.name teams.division.nameShort
    ## 1                 18        Metropolitan                    Metro
    ## 2                 18        Metropolitan                    Metro
    ## 3                 18        Metropolitan                    Metro
    ## 4                 18        Metropolitan                    Metro
    ## 5                 18        Metropolitan                    Metro
    ## 6                 17            Atlantic                      ATL
    ## 7                 17            Atlantic                      ATL
    ## 8                 17            Atlantic                      ATL
    ## 9                 17            Atlantic                      ATL
    ## 10                17            Atlantic                      ATL
    ## 11                18        Metropolitan                    Metro
    ## 12                17            Atlantic                      ATL
    ## 13                17            Atlantic                      ATL
    ## 14                18        Metropolitan                    Metro
    ## 15                16             Central                      CEN
    ## 16                17            Atlantic                      ATL
    ## 17                16             Central                      CEN
    ## 18                16             Central                      CEN
    ## 19                15             Pacific                      PAC
    ## 20                16             Central                      CEN
    ## 21                15             Pacific                      PAC
    ## 22                15             Pacific                      PAC
    ## 23                15             Pacific                      PAC
    ## 24                16             Central                      CEN
    ## 25                15             Pacific                      PAC
    ## 26                15             Pacific                      PAC
    ## 27                18        Metropolitan                    Metro
    ## 28                16             Central                      CEN
    ## 29                16             Central                      CEN
    ## 30                15             Pacific                      PAC
    ## 31                15             Pacific                      PAC
    ##     teams.division.link teams.division.abbreviation teams.conference.id
    ## 1  /api/v1/divisions/18                           M                   6
    ## 2  /api/v1/divisions/18                           M                   6
    ## 3  /api/v1/divisions/18                           M                   6
    ## 4  /api/v1/divisions/18                           M                   6
    ## 5  /api/v1/divisions/18                           M                   6
    ## 6  /api/v1/divisions/17                           A                   6
    ## 7  /api/v1/divisions/17                           A                   6
    ## 8  /api/v1/divisions/17                           A                   6
    ## 9  /api/v1/divisions/17                           A                   6
    ## 10 /api/v1/divisions/17                           A                   6
    ## 11 /api/v1/divisions/18                           M                   6
    ## 12 /api/v1/divisions/17                           A                   6
    ## 13 /api/v1/divisions/17                           A                   6
    ## 14 /api/v1/divisions/18                           M                   6
    ## 15 /api/v1/divisions/16                           C                   5
    ## 16 /api/v1/divisions/17                           A                   6
    ## 17 /api/v1/divisions/16                           C                   5
    ## 18 /api/v1/divisions/16                           C                   5
    ## 19 /api/v1/divisions/15                           P                   5
    ## 20 /api/v1/divisions/16                           C                   5
    ## 21 /api/v1/divisions/15                           P                   5
    ## 22 /api/v1/divisions/15                           P                   5
    ## 23 /api/v1/divisions/15                           P                   5
    ## 24 /api/v1/divisions/16                           C                   5
    ## 25 /api/v1/divisions/15                           P                   5
    ## 26 /api/v1/divisions/15                           P                   5
    ## 27 /api/v1/divisions/18                           M                   6
    ## 28 /api/v1/divisions/16                           C                   5
    ## 29 /api/v1/divisions/16                           C                   5
    ## 30 /api/v1/divisions/15                           P                   5
    ## 31 /api/v1/divisions/15                           P                   5
    ##    teams.conference.name teams.conference.link teams.franchise.franchiseId
    ## 1                Eastern /api/v1/conferences/6                          23
    ## 2                Eastern /api/v1/conferences/6                          22
    ## 3                Eastern /api/v1/conferences/6                          10
    ## 4                Eastern /api/v1/conferences/6                          16
    ## 5                Eastern /api/v1/conferences/6                          17
    ## 6                Eastern /api/v1/conferences/6                           6
    ## 7                Eastern /api/v1/conferences/6                          19
    ## 8                Eastern /api/v1/conferences/6                           1
    ## 9                Eastern /api/v1/conferences/6                          30
    ## 10               Eastern /api/v1/conferences/6                           5
    ## 11               Eastern /api/v1/conferences/6                          26
    ## 12               Eastern /api/v1/conferences/6                          33
    ## 13               Eastern /api/v1/conferences/6                          31
    ## 14               Eastern /api/v1/conferences/6                          24
    ## 15               Western /api/v1/conferences/5                          11
    ## 16               Eastern /api/v1/conferences/6                          12
    ## 17               Western /api/v1/conferences/5                          34
    ## 18               Western /api/v1/conferences/5                          18
    ## 19               Western /api/v1/conferences/5                          21
    ## 20               Western /api/v1/conferences/5                          27
    ## 21               Western /api/v1/conferences/5                          25
    ## 22               Western /api/v1/conferences/5                          20
    ## 23               Western /api/v1/conferences/5                          32
    ## 24               Western /api/v1/conferences/5                          15
    ## 25               Western /api/v1/conferences/5                          14
    ## 26               Western /api/v1/conferences/5                          29
    ## 27               Eastern /api/v1/conferences/6                          36
    ## 28               Western /api/v1/conferences/5                          37
    ## 29               Western /api/v1/conferences/5                          35
    ## 30               Western /api/v1/conferences/5                          28
    ## 31               Western /api/v1/conferences/5                          38
    ##    teams.franchise.teamName  teams.franchise.link
    ## 1                    Devils /api/v1/franchises/23
    ## 2                 Islanders /api/v1/franchises/22
    ## 3                   Rangers /api/v1/franchises/10
    ## 4                    Flyers /api/v1/franchises/16
    ## 5                  Penguins /api/v1/franchises/17
    ## 6                    Bruins  /api/v1/franchises/6
    ## 7                    Sabres /api/v1/franchises/19
    ## 8                 Canadiens  /api/v1/franchises/1
    ## 9                  Senators /api/v1/franchises/30
    ## 10              Maple Leafs  /api/v1/franchises/5
    ## 11               Hurricanes /api/v1/franchises/26
    ## 12                 Panthers /api/v1/franchises/33
    ## 13                Lightning /api/v1/franchises/31
    ## 14                 Capitals /api/v1/franchises/24
    ## 15               Blackhawks /api/v1/franchises/11
    ## 16                Red Wings /api/v1/franchises/12
    ## 17                Predators /api/v1/franchises/34
    ## 18                    Blues /api/v1/franchises/18
    ## 19                   Flames /api/v1/franchises/21
    ## 20                Avalanche /api/v1/franchises/27
    ## 21                   Oilers /api/v1/franchises/25
    ## 22                  Canucks /api/v1/franchises/20
    ## 23                    Ducks /api/v1/franchises/32
    ## 24                    Stars /api/v1/franchises/15
    ## 25                    Kings /api/v1/franchises/14
    ## 26                   Sharks /api/v1/franchises/29
    ## 27             Blue Jackets /api/v1/franchises/36
    ## 28                     Wild /api/v1/franchises/37
    ## 29                     Jets /api/v1/franchises/35
    ## 30                  Coyotes /api/v1/franchises/28
    ## 31           Golden Knights /api/v1/franchises/38

### Building functions to reach recordAPI

``` r
recordAPI <- function(x,id=NULL,...){
#setting up base url for stats API
base_url <-"https://records.nhl.com/site/api"
modifiers <- x
if (is.null(id)){
  full_url <- paste0(base_url, "/", modifiers)
  }
else {
  full_url <- paste0(base_url, "/", modifiers,"?cayenneExp=franchiseId=", id)
  } 


# retrieve information in raw form
GET(full_url)

#transfer into JSON text form
text <- content(GET(full_url),"text")

#convert it to a list
mydata <- fromJSON(text, flatten = TRUE) 
mydata<- as.data.frame(mydata)
return(mydata)
}
a<-recordAPI("franchise")
b<-recordAPI("franchise-team-totals")
c<-recordAPI("franchise-season-records",1)
d<-recordAPI("franchise-goalie-records",1)
e<-recordAPI("franchise-skater-records",1)
```

### accessory for API endpoints
